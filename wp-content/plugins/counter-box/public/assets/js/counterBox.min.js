"use strict";const counterBox=function(e,t){let n=[{container_css:"",number_css:"",type:"CountToDate",date_options:{date:"2025-05-15",time:"23:59:59",timezone:"+00:00"},timer_options:{day:"0",hours:"0",minutes:"100",seconds:"10"},counter_options:{start:1,finish:5,speed:{min:1,max:1},increment:{min:1,max:1},round:2,delimiter:1,remember:0},targets:{}},t].reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{});let o=document.querySelector(e);function r(e){return!1===(e=e||!1)&&(e=n.date_options),new Date(e.date+"T"+e.time+e.timezone)}function a(){let e=n.timer_options,t=("TimerStopGo"===n.type?0:(new Date).getTime())+864e5*parseInt(e.day)+36e5*parseInt(e.hours)+6e4*parseInt(e.minutes)+1e3*parseInt(e.seconds);return"TimerStopGo"===n.type&&(t/=1e3),t}function s(){let t=localStorage.getItem(e);return null===t&&(t=a(),localStorage.setItem(e,t.toString())),parseInt(t)}function c(e,t){t<0&&(t=0),".counter-box__day"!==e&&(t=function(e){return("0"+e).slice(-2)}(t).toString()),o.querySelector(e)&&(o.querySelector(e).innerHTML=t)}function i(e){let t=Math.floor(e/86400);c(".counter-box__day",t),e-=86400*t;let n=Math.floor(e/3600);c(".counter-box__hour",n),e-=3600*n;let o=Math.floor(e/60);c(".counter-box__min",o),c(".counter-box__sec",e-=60*o)}function u(){let e=n.targets;var t;if(t=e,!(Object.keys(t).length<=0))for(let t in e)switch(t){case"hideBlock":document.querySelector(e[t]).style.display="none";break;case"showBlock":document.querySelector(e[t]).style.display="block";break;case"redirect":window.location.replace(e[t]);break;case"hideCounter":1===e[t]&&(o.style.display="none");break;case"showMessage":o.innerHTML=e[t];break;case"action":let n=window[e[t]];"function"==typeof n&&n()}}function l(e){let t,n=new Date;if(n>e)return i(t=0),void u();i(t=Math.floor((e-n)/1e3)),setTimeout(l,1e3,e)}function p(t){if(t<0)return i(t=0),void u();i(t),function(t){localStorage.setItem(e,t.toString())}(t-=1),setTimeout(p,1e3,t)}function d(e){let t,n=new Date;i(t=Math.floor((n-e)/1e3)),setTimeout(d,1e3,e)}function m(e,t){return parseFloat(e)+Math.random()*(parseFloat(t)-parseFloat(e))}function f(t){let r=n.counter_options;t=parseFloat(t);let a=parseFloat(r.start),s=parseFloat(r.finish),c=a<s?"up":"down",i="no";"up"===c&&t>s?(t=s,i="yes"):"down"===c&&t<s&&(t=s,i="yes");let l=t.toFixed(parseInt(r.round));return 1===parseInt(r.delimiter)&&(l=function(e){return e+="",(e=new Array(4-e.length%3).join("U")+e).replace(/([0-9U]{3})/g,"$1 ").replace(/U/g,"")}(l)),1===parseInt(r.remember)&&localStorage.setItem(e,t),o.querySelector(".counter-box__counter")&&(o.querySelector(".counter-box__counter").innerHTML=l),"yes"!==i||(u(),!1)}function y(e,t){let o=n.counter_options,r=m(o.speed.min,o.speed.max),a=m(o.increment.min,o.increment.max);null!==t?e+=a:t=1,!0===f(e)&&setTimeout(y,1e3*r,e,t)}function _(){let t;switch(n.type){case"CountToDate":l(t=r());break;case"ContFromDate":d(t=r());break;case"CountToWeekday":l(t=function(){let e=n.date_options,t=e.date,o=new Date,a=o.getDay(),s=function(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return!1}(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t);"Everyday"!==t&&s!==a&&o.setDate(o.getDate()+(s+7-o.getDay())%7);let c=o.getFullYear(),i=("0"+(o.getMonth()+1)).slice(-2),u=("0"+o.getDate()).slice(-2);return e.date=c+"-"+i+"-"+u,r(e)}());break;case"Timer":l(t=a());break;case"UserTimer":l(t=s());break;case"TimerStopGo":p(t=s());break;case"Counter":y(function(){let t,o=n.counter_options,r=localStorage.getItem(e);return t=1===parseInt(o.remember)&&null!==r?r:parseFloat(o.start),parseFloat(t)}(),null)}}return function(){let e=o.innerHTML;e=(e=(e=(e=(e=e.replace("{day}",'<span class="counter-box__day"></span>')).replace("{hour}",'<span class="counter-box__hour"></span>')).replace("{min}",'<span class="counter-box__min"></span>')).replace("{sec}",'<span class="counter-box__sec"></span>')).replace("{counter}",'<span class="counter-box__counter"></span>'),o.innerHTML=e}(),o.style.cssText=n.container_css,function(e,t){for(let n=0;n<e.length;n++)t&&t(e[n],n)}(o.querySelectorAll('[class *= "counter-box__"]'),function(e){e.style.cssText=n.number_css}),void _()};document.addEventListener("DOMContentLoaded",function(){for(let e in window)if(e.indexOf("CounterBox_")>=0){let t=window[e];new counterBox(t.selector,t)}});