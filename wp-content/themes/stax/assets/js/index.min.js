var SQ=SQ||{};!function(r){"use strict";SQ.initialize={init:function(){SQ.initialize.initProgressBar(),SQ.initialize.initPanelContentFade(),SQ.initialize.initReadingTime(),SQ.initialize.initStickySidebar(),SQ.initialize.initArticleNavigation(),SQ.initialize.initButtonRippleEffect(),SQ.initialize.initSectionReveal(),SQ.initialize.initElementReveal(),SQ.initialize.initMasonry(),SQ.initialize.enableMultiLevelMenu(),SQ.initialize.initCommentsActions(),SQ.initialize.initHeaderCart(),SQ.initialize.initLazy()},initSectionReveal:function(){var e=document.querySelectorAll(".section-reveal"),t=new IntersectionObserver(function(e,t){r.each(e,function(e,i){i.isIntersecting&&(r(i.target).addClass("section-inview animated"),t.unobserve(i.target))})},{root:null,rootMargin:"0px"});r.each(e,function(e,i){t.observe(i)})},initElementReveal:function(){var e=document.querySelectorAll(".will-animate"),t=new IntersectionObserver(function(e,t){var n=1;r.each(e,function(e,i){i.isIntersecting&&(SQ.initialize.revealElement(i.target,n),n++,t.unobserve(i.target),i.target.classList.remove("will-animate"))})},{root:null,rootMargin:"0px"});r.each(e,function(e,i){t.observe(i)})},revealElement:function(e,i){var t=r(e).data("cssanimate");r(e).css({"animation-delay":.05*(1+i)+"s"}).addClass(t).addClass("animated").data("animation-state","done")},initProgressBar:function(){var e,i,t;r("#progressBar").length&&(e=function(){return s.height()-c.height()},i=function(){return c.scrollTop()},"max"in document.createElement("progress")&&((t=r(".svq-progress-bar progress")).prop({max:e(),value:i()}),s.on("scroll",function(){t.prop({value:i()})}),c.resize(function(){t.prop({max:e(),value:i()})})))},initPanelContentFade:function(){var e,i,t,n,a=r(".svq-panel"),s=a.find(".entry-header");a.length&&s.length&&(e=s.offset().top,i=s.height(),t=e-i+i/2,(a.hasClass("svq-panel--media-below")||a.hasClass("svq-panel--half")||e<i)&&(t=e),n=0,c.on("scroll",function(){var e=r(this).scrollTop(),i=Math.abs((e-t)/100*.5);n<e?t<=e&&i<=1&&s.find(".fade-on-scroll").css({transform:"translateY("+40*i+"px)",opacity:1-i}):e<n&&(t<=e?i<=1&&s.find(".fade-on-scroll").css({transform:"translateY("+40*i+"px)",opacity:1-i}):s.find(".fade-on-scroll").css({transform:"translateY(0px)",opacity:1})),n=e}))},initReadingTime:function(){var e,i=r(".no-reading-time"),t=r(".reading-time");i.length&&t.length&&(i.hide(),e=(e=r(".entry-content").text().replace(/(\r\n|\n|\r)/gm,"").split(" ")).filter(function(e){return""!==e}),r("span#words").html(e.length),e=60/130*e.length,(e=Math.round(e/60))||(e=1,i.show()),t.html(Math.round(e)))},initStickySidebar:function(){if(!r.fn.hcSticky)return!1;r(".svq-sticky-el").each(function(e,i){var t=null,n=r(i).data("stick-to");(t=r(i).parent().attr("id")===n?r(i).parent()[0]:t)&&r(i).hcSticky({stickTo:t,followScroll:!1,top:parseInt(r(i).data("top")),responsive:{980:{disable:!0}}})})},initButtonRippleEffect:function(){i.on("click",".button-ripple",function(e){var i=e.pageX-r(this).offset().left,e=e.pageY-r(this).offset().top;r(this).find(".button_ripple").remove(),r('<span class="button_ripple"/>').appendTo(this).css({left:i,top:e})}),i.on("keydown",function(e){9==e.which&&i.addClass("keyboardfocus")}),i.on("click",function(e){i.removeClass("keyboardfocus")})},initArticleNavigation:function(){var i,t,n,a=r(".nav-article-section");a.length&&(t=0,c.height()>=s.height()&&a.removeClass("nav-down").addClass("nav-up"),c.resize(function(){c.height()>=s.height()&&a.removeClass("nav-down").addClass("nav-up")}),c.on("scroll",function(e){i=!0}),n=!1,setInterval(function(){var e;i&&(e=r(this).scrollTop(),Math.abs(t-e)<=10||(t<e||e<100?a.removeClass("nav-up").addClass("nav-down").removeClass("nav-hidden"):e+c.height()<s.height()&&(n||(SQ.initialize.initLazy(),n=!0),a.removeClass("nav-down").addClass("nav-up")),t=e,i=!1))},200))},enableMultiLevelMenu:function(){r(".widget_nav_menu .menu li.menu-item-has-children a").on("click",function(e){var i;r(this).next("ul.sub-menu").length&&(e.preventDefault(),i=r(this),r(".widget_nav_menu .menu > li.menu-item-has-children > a.active-menu").each(function(){r(this).is(i)||r(this).next().find(i).length||(r(this).removeClass("active-menu"),r(this).next().slideUp())}),i.toggleClass("active-menu"),i.next().is(":visible")?i.next().slideUp():i.next().slideDown())}),r("#header a.dropdown-toggle").on("click",function(e){!r("html").hasClass("touchevents")&&991<=r(window).width()&&(location.href=this.href)}),r(".dropdown-menu a.dropdown-toggle").on("click",function(e){return r(this).next().hasClass("show")||r(this).parents(".dropdown-menu").first().find(".show").removeClass("show"),r(this).next(".dropdown-menu").toggleClass("show"),r(this).closest(".dropdown").toggleClass("show"),r(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(e){r(".dropdown-submenu .show").removeClass("show")}),!1})},initMasonry:function(){var e=r(".svq-masonry-articles");e.length&&e.masonry({itemSelector:".svq-article-col",columnWidth:".svq-grid-sizer"})},initLazy:function(){"function"==typeof LazyLoad&&new LazyLoad({elements_selector:".lazy",class_loading:"lazy-is-loading",class_loaded:"lazy-is-loaded"})},initCommentsActions:function(){r(document).on("click",'[data-action="btn-comments-trigger"]',function(e){e.preventDefault();e=r(this).data("post-id");i.addClass("comments-open"),r(".for-post-id-"+e).show().find(".comment-respond").show(),r("#comments-post-"+e).hasClass("svq-comments--modal")||r(this).hide(),c.trigger("svq-sticky-sidebar-update")}),r(document).on("submit",".comment-form",function(e){e.preventDefault();var n=r(this),e=new FormData(this);r.ajax({method:"POST",url:r(this).attr("action"),data:e,context:r(this),cache:!1,contentType:!1,processData:!1,beforeSend:function(){n.find("button[type=submit]").prop("disabled",!0).addClass("is-loading")},complete:function(){n.find("button[type=submit]").prop("disabled",!1).removeClass("is-loading")},success:function(e){var i,t;"success"===e.status?(n.find(".request-response").html(""),"0"!==e.reply_to?((i=(t=n.closest("#comment-"+e.reply_to)).children("ul.children").first()).length?i.append(e.data):t.append('<ul class="children">'+e.data+"</ul>"),(i=n.find("#wp-temp-form-div")).length&&(n.find(".cancel-comment-reply-link").hide(),i.replaceWith(n.find(".comment-respond")))):((t=n.closest(".svq-section-comments")).find(".svq-comments.comments-empty").removeClass("comments-empty"),t.find(".comments-list").append(e.data),"approved"===e.comment_status&&((i=t.find(".svq-status-comments")).hasClass("has-comments")||i.addClass("has-comments"),(i=t.find(".svq-svg-icon-wrapp")).attr("data-svg-notifier")?i.attr("data-svg-notifier",parseInt(i.attr("data-svg-notifier"))+1):i.attr("data-svg-notifier",1),(t=t.find(".comments-stat-info")).html(t.data("first")))),window.addComment.init(),n.find("input[type=text], input[type=email], textarea").val(""),n.find("input[type=checkbox]").prop("checked",!1),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new Event("clear-comment-form-media"))):"error"===e.status&&n.find(".request-response").html(e.data)}})})},initHeaderCart:function(){var e=r(".stx-nav-cart .hide_cart_widget_if_empty")[0];if(e){const i=new MutationObserver(function(e,i){for(const t of e)"childList"===t.type&&(SQ.initialize.initLazy(),document.dispatchEvent(new CustomEvent("scroll")))});i.observe(e,{attributes:!0,childList:!0,subtree:!0}),r(".builder-item--header_cart_icon .cart-icon-wrapper").on("hover",function(){SQ.initialize.initLazy()})}}},SQ.documentOnReady={init:function(){SQ.initialize.init(),objectFitPolyfill()}},SQ.documentOnLoad={init:function(){SQ.documentOnLoad.initNestedCarousel(),SQ.documentOnLoad.initArticlesCarousel(),SQ.documentOnLoad.initGalleryCarousel(),SQ.documentOnLoad.initArticlePanelCarousel(),SQ.documentOnLoad.initPreloader()},initArticlesCarousel:function(){r(".svq-slider-articles").each(function(){var i=new Swiper(r(this),{slidesPerView:"auto",nested:r(this).hasClass("svq-nested")});r(this).find(".slide-to--next").on("click",function(e){e.preventDefault(),i.slideNext()}),r(this).find(".slide-to--back").on("click",function(e){e.preventDefault(),i.slidePrev()}),c.resize(function(){i.update()})})},initNestedCarousel:function(){r(".svq-media-slider").each(function(){var t,e,i,n,a,s=r(this).find(".svq-master-carousel"),o=r(this).find(".svq-child-carousel"),l=[];s.length&&(l=s.data("slider-categories")),o.length&&((e=o.data("slider-id"))&&(o=r(".svq-child-carousel-"+e)),t=new Swiper(o,{autoHeight:!0,slidesPerView:1,pagination:{el:".svq-nav-pagination",clickable:!0,type:"custom",renderCustom:function(e,i,t){var n="";if(l.length)for(var a=0;a<t;a++)n+='<li class="svq-list-item swiper-slide '+(i-1===a?"svq-list-item-active":"")+'"><a href="#" class="svq-item-link svq-slider-nav-btn" role="tab" data-go-to-slide="'+a+'">'+l[a]+"</a></li>";return n}}}),c.resize(function(){t.update()}),s.length&&((e=s.data("slider-id"))&&(s=r(".svq-master-carousel-"+e)),i=new Swiper(s,{slidesPerView:"auto"}),r(this).find(".svq-nav-pagination").on("click",".svq-slider-nav-btn",function(e){e.preventDefault(),i.slideTo(parseInt(r(this).data("go-to-slide"))),t.slideTo(parseInt(r(this).data("go-to-slide")))}),c.resize(function(){i.update()}),t.on("slideChange",function(){i.slideTo(t.realIndex)})),n=r(this).find(".slide-to--back"),a=r(this).find(".slide-to--next"),n.on("click",function(e){e.preventDefault();var i=o.find(".svq-slider-articles"),e=t.realIndex;i[e]&&(((i=i[e].swiper).isBeginning?t:i).slidePrev(),i.isBeginning&&e-1==0&&n.trigger("is-not-visible"),a.trigger("is-visible"))}),a.on("click",function(e){e.preventDefault();var i=o.find(".svq-slider-articles"),e=t.realIndex;i[e]&&(((i=i[e].swiper).isEnd?t:i).slideNext(),i.isEnd&&t.slides.length===e&&a.trigger("is-not-visible"),n.trigger("is-visible"))}),n.on("is-visible",function(){r(this).addClass("is-visible")}).on("is-not-visible",function(){r(this).removeClass("is-visible")}),a.on("is-visible",function(){r(this).addClass("is-visible")}).on("is-not-visible",function(){r(this).removeClass("is-visible")}))})},initGalleryCarousel:function(){r(".svq-gallery-slider").each(function(){var e=new Swiper(r(this),{slidesPerView:"auto",freeMode:!0,freeModeMomentumRatio:.5,freeModeMomentumVelocityRatio:.3,freeModeMinimumVelocity:.5,navigation:{nextEl:".svq-gallery-control-next",prevEl:".svq-gallery-control-prev"},pagination:{el:".swiper-pagination",type:"bullets"},on:{init:function(){objectFitPolyfill()}}});c.resize(function(){e.update()})})},initArticlePanelCarousel:function(){r(".svq-panel-slider").each(function(){var e=new Swiper(r(this),{autoHeight:!0,slidesPerView:"auto",effect:"fade",navigation:{nextEl:".svq-panel-control-next",prevEl:".svq-panel-control-prev"},pagination:{el:".swiper-pagination",type:"fraction"}});c.resize(function(){e.update()})})},initPreloader:function(){var e=r(".svq-page-loader");e.length&&e.addClass("not-visible")}};var c=r(window),i=r("body"),s=r(document);s.ready(SQ.documentOnReady.init),c.on("load",SQ.documentOnLoad.init),c.on("reveal",function(){SQ.initialize.initElementReveal()}),c.on("svq-post-changed",function(){SQ.initialize.initLazy(),window.dispatchEvent(new Event("loadLazy")),SQ.initialize.initElementReveal(),SQ.initialize.initStickySidebar(),objectFitPolyfill()}),c.on("masonry",function(){SQ.initialize.initMasonry()})}(jQuery);