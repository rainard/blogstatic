!function(X){"use strict";X(document).ready(function(){a.init()});var a={showLogs:!1,round:1e3,init:function(){if(this._log("init"),this._inited)return this._log("Already Inited"),void(this._inited=!0);this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,t){window.setTimeout(a,1e3/60)},this._onScroll(!0)},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(A){var q=X(document).scrollTop(),F=X(window).height();this._log("onScroll "+q),X("[data-parallax]").each(X.proxy(function(a,t){var i=X(t),r=[],o=!1,e=i.data("style");null==e&&(e=i.attr("style")||"",i.data("style",e));for(var l=[i.data("parallax")],n=2;i.data("parallax"+n);n++)l.push(i.data("parallax-"+n));var s,c,u=l.length;for(n=0;n<u;n++){var d=l[n],m=d["from-scroll"];null==m&&(m=Math.max(0,X(t).offset().top-F)),m|=0;var h=d.distance,p=d["to-scroll"];null==h&&null==p&&(h=F),h=Math.max(0|h,1);var w,g,x,_=d.easing,y=d["easing-return"];null!=_&&X.easing&&X.easing[_]||(_=null),null!=y&&X.easing&&X.easing[y]||(y=_),_&&(null==(w=d.duration)&&(w=h),w=Math.max(0|w,1),null==(g=d["duration-return"])&&(g=w),h=1,null==(x=i.data("current-time"))&&(x=0)),null==p&&(p=m+h),p|=0;var f=d.smoothness;null==f&&(f=30),f|=0,!A&&0!=f||(f=1),f|=0;var v=Math.max(q,m);v=Math.min(v,p),_&&(null==i.data("sens")&&i.data("sens","back"),m<v&&("back"==i.data("sens")?(x=1,i.data("sens","go")):x++),v<p&&("go"==i.data("sens")?(x=1,i.data("sens","back")):x++),A&&(x=w),i.data("current-time",x)),this._properties.map(X.proxy(function(a){var t,e,l,n=0,s=d[a];null!=s&&("scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?n=1:s|=0,l=(t=null==(t=i.data("_"+a))?n:t)+((e=(v-m)/(p-m)*(s-n)+n)-t)/f,_&&0<x&&x<=w&&(n=n,"back"==i.data("sens")&&(s=-(n=s),_=y,w=g),l=X.easing[_](null,x,n,s,w)),(l=Math.ceil(l*this.round)/this.round)==t&&e==s&&(l=s),r[a]||(r[a]=0),r[a]+=l,t!=r[a]&&(i.data("_"+a,r[a]),o=!0))},this))}o&&(null!=r.z&&(null==(s=d.perspective)&&(s=800),(c=i.parent()).data("style")||c.data("style",c.attr("style")||""),c.attr("style","perspective:"+s+"px; -webkit-perspective:"+s+"px; "+c.data("style"))),null==r.scaleX&&(r.scaleX=1),null==r.scaleY&&(r.scaleY=1),null==r.scaleZ&&(r.scaleZ=1),null!=r.scale&&(r.scaleX*=r.scale,r.scaleY*=r.scale,r.scaleZ*=r.scale),c="translate3d("+(r.x||0)+"px, "+(r.y||0)+"px, "+(r.z||0)+"px)"+" "+("rotateX("+(r.rotateX||0)+"deg) rotateY("+(r.rotateY||0)+"deg) rotateZ("+(r.rotateZ||0)+"deg)")+" "+("scaleX("+r.scaleX+") scaleY("+r.scaleY+") scaleZ("+r.scaleZ+")")+";",this._log(c),i.attr("style","transform:"+c+" -webkit-transform:"+c+" "+e))},this)),window.requestAnimationFrame?window.requestAnimationFrame(X.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(X.proxy(this._onScroll,this,!1))}}}(jQuery);