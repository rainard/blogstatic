!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e,a=arguments[n];for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}function o(t){return n({},N,t)}function i(t,n){var e,a="LazyLoad::Initialized",n=new t(n);try{e=new CustomEvent(a,{detail:{instance:n}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:n})}window.dispatchEvent(e)}function a(t,n,e){n=T+n,null!==e?t.setAttribute(n,e):t.removeAttribute(n)}function c(t,n){return a(t,F,n),0}function s(t){return G(t,F)}function u(t,n){A?t.classList.add(n):t.className+=(t.className?" ":"")+n}function r(t,n){A?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function d(t){return t.llTempImage}function l(t){t&&(t.loadingCount+=1)}function f(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e}function _(t,n){U(t,"sizes",G(t,n.data_sizes)),U(t,"srcset",G(t,n.data_srcset)),U(t,"src",G(t,n.data_src))}function g(t,n,e){t.addEventListener(n,e)}function p(t,n,e){t.removeEventListener(n,e)}function v(t,n,e){p(t,B,n),p(t,J,n),p(t,K,e)}function b(t,n,e){delete t.llTempImage,(e=e)&&--e.loadingCount,r(t,n.class_loading)}function h(t,n,e){var a,o,i,r,l;-1<Q.indexOf(t.tagName)?(X(a=t,o=n,i=e),$(a,o,i)):(r=n,l=e,S(i=t),X(i,r,l),q(i,r,l),H(i,r,l)),Y(n,e),r=t,!(l=e)||(t=l._observer)&&l._settings.auto_unobserve&&t.unobserve(r),W(n,e)}function m(t){var n=s(t);n&&(clearTimeout(n),c(t,null))}function e(t,a,o){t.forEach(function(t){var n,e;-1!==nt.indexOf(t.tagName)&&(t.setAttribute(et,"lazy"),X(n=t,e=a,t=o),$(n,e,t),Y(e,t),P(n,R),W(e,t))}),o.toLoadCount=0}function E(t,n){var e;t.disconnect(),e=t,n.forEach(function(t){e.observe(t),P(t,x)})}function y(t){return t.container.querySelectorAll(t.elements_selector)}function w(t){return G(t,j)===M}function k(t,n){return n=t||y(n),rt(n).filter(lt)}function t(t,n){var e,a;this._settings=o(t),this.loadingCount=0,e=this,C&&!at(e._settings)&&(e._observer=new IntersectionObserver(function(t){t.forEach(function(t){return(ot(t)?Z:tt)(t.target,t,e)})},it(e._settings))),a=this,I&&window.addEventListener("online",function(t){ct(a)}),this.update(n)}var I="undefined"!=typeof window,L=I&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),C=I&&"IntersectionObserver"in window,A=I&&"classList"in document.createElement("p"),O=I&&1<window.devicePixelRatio,N={elements_selector:"img",container:L||I?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},x="observed",z="loading",M="error",R="native",T="data-",j="ll-status",F="ll-timeout",G=function(t,n){return t.getAttribute(T+n)},P=function(t,n){return a(t,j,n)},D=function(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))},S=function(t){t.llTempImage=document.createElement("img")},U=function(t,n,e){e&&t.setAttribute(n,e)},V={IMG:function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&f(e).forEach(function(t){_(t,n)}),_(t,n)},IFRAME:function(t,n){U(t,"src",G(t,n.data_src))},VIDEO:function(t,n){f(t).forEach(function(t){U(t,"src",G(t,n.data_src))}),U(t,"poster",G(t,n.data_poster)),U(t,"src",G(t,n.data_src)),t.load()}},$=function(t,n,e){var a=V[t.tagName];a&&(a(t,n),l(e),u(t,n.class_loading),P(t,z),D(n.callback_loading,t,e),D(n.callback_reveal,t,e))},q=function(t,n,e){var a=G(t,n.data_bg),o=G(t,n.data_bg_hidpi),a=O&&o?o:a;a&&(t.style.backgroundImage='url("'.concat(a,'")'),d(t).setAttribute("src",a),l(e),u(t,n.class_loading),P(t,z),D(n.callback_loading,t,e),D(n.callback_reveal,t,e))},H=function(t,n,e){var a=G(t,n.data_bg_multi),o=G(t,n.data_bg_multi_hidpi),a=O&&o?o:a;a&&(t.style.backgroundImage=a,u(t,n.class_applied),P(t,"applied"),D(n.callback_applied,t,e))},B="load",J="loadeddata",K="error",Q=["IMG","IFRAME","VIDEO"],W=function(t,n){!n||n.toLoadCount||n.loadingCount||D(t.callback_finish,n)},X=function(i,r,l){function c(t){var n,e,a;b(n=i,e=r,a=l),u(n,e.class_error),P(n,M),D(e.callback_error,n,a),W(e,a),v(s,o,c)}var t,n,e,s=d(i)||i,o=function t(n){var e,a,o;b(e=i,a=r,o=l),u(e,a.class_loaded),P(e,"loaded"),D(a.callback_loaded,e,o),W(a,o),v(s,t,c)};e=c,g(t=s,B,n=o),g(t,J,n),g(t,K,e)},Y=function(t,n){n&&--n.toLoadCount},Z=function(t,n,e){var a,o,i,r,l=e._settings;D(l.callback_enter,t,n,e),l.load_delay?(a=t,i=e,r=(o=l).load_delay,(n=s(a))||(n=setTimeout(function(){h(a,o,i),m(a)},r),c(a,n))):h(t,l,e)},tt=function(t,n,e){var a=e._settings;D(a.callback_exit,t,n,e),a.load_delay&&m(t)},nt=["IMG","IFRAME"],et="loading",at=function(t){return t.use_native&&et in HTMLImageElement.prototype},ot=function(t){return t.isIntersecting||0<t.intersectionRatio},it=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},rt=function(t){return Array.prototype.slice.call(t)},lt=function(t){return!(null!==G(t,j))||G(t,j)===x},ct=function(t){var n,e=t._settings;(n=y(e),rt(n).filter(w)).forEach(function(t){r(t,e.class_error),a(t,j,null)}),t.update()};return t.prototype={update:function(t){var n=this._settings,t=k(t,n);this.toLoadCount=t.length,!L&&C?at(n)?e(t,n,this):E(this._observer,t):this.loadAll(t)},destroy:function(){this._observer&&this._observer.disconnect(),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;k(t,e).forEach(function(t){h(t,e,n)})},load:function(t){h(t,this._settings,this)}},t.load=function(t,n){n=o(n);h(t,n)},I&&function(t,n){if(n)if(n.length)for(var e,a=0;e=n[a];a+=1)i(t,e);else i(t,n)}(t,window.lazyLoadOptions),t});