(window.webpackJsonp_stax=window.webpackJsonp_stax||[]).push([[2],{39:function(e,t,a){"use strict";var n=a(1),s=a(5),i=Object(n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(s.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=i},40:function(e,t,a){"use strict";var n=a(1),s=a(5),i=Object(n.createElement)(s.SVG,{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},Object(n.createElement)(s.Path,{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}));t.a=i},45:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),i=a(3),o=a(1),c=a(5),l=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),r=a(2),m=a(6),d=a.n(m),u=a(17),w=a(40),p=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M17 4h-2v4.5h2V7h3V5.5h-3V4zM4 5.5h9V7H4V5.5zm16 5.75h-9v1.5h9v-1.5zm-16 0h3V10h2v4.25H7v-1.5H4v-1.5zM9 17H4v1.5h5V17zm4 0h7v1.5h-7V20h-2v-4.25h2V17z"})),b=a(36),v=a(16),h=e=>{const{componentId:t,currentSection:a,slot:n,row:c,index:m}=e,{actions:u,builder:h,sidebarItems:g}=Object(o.useContext)(v.a),E=window.StaxReactCustomize.HFG[h].items[t];if(!E)return null;const{name:x,section:z}=E,{removeItem:f,setSidebarItems:O}=u,j=z&&z.includes("stax_sidebar-widgets"),S=a===z,_=window.wp.customize.section(z),N=()=>{_.focus()},y=d()("builder-item",{active:S});return s.a.createElement("div",{className:y},s.a.createElement(i.Icon,{className:"handle",icon:w.a,size:15}),s.a.createElement("span",{className:"name"},x),s.a.createElement("div",{className:"actions"},s.a.createElement(i.Button,{icon:l,iconSize:18,className:"settings",onClick:j?()=>{const e=z.replace("stax_","");window.wp.customize.section(e).focus()}:N,label:Object(r.__)("Item Settings","stax"),showTooltip:!1}),j&&s.a.createElement(i.Button,{icon:p,iconSize:18,className:"settings",onClick:N,label:Object(r.__)("Widget Settings","stax"),showTooltip:!1}),s.a.createElement(i.Button,{iconSize:18,icon:b.a,className:"remove",onClick:()=>{f(c,n,m),_.expanded(!1),O([...g,{id:t}].sort((e,t)=>e.id<t.id?-1:1))},label:Object(r.__)("Remove Item","stax"),showTooltip:!1})))},g=a(37),E=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})),x=a(39),z=({items:e,slotId:t,rowId:a,className:n})=>{const{currentSection:c,builder:l,actions:m,dragging:w,sidebarItems:p}=Object(o.useContext)(v.a),{updateLayout:b,onDragStart:z,setSidebarItems:f}=m,[O,j]=Object(o.useState)(!1),[S,_]=Object(o.useState)(""),N=d()("droppable-wrap",t,n,{"has-popover":O,overflowed:e.length>=3&&"sidebar"!==a}),y=window.StaxReactCustomize.HFG[l].items;return s.a.createElement("div",{className:N},s.a.createElement(u.ReactSortable,{animation:60,className:"droppable",onStart:z,group:l,list:e,setList:e=>{const n=e.map(e=>({id:e.id}));b(a,t,n)}},e&&e.length>0&&e.map((e,n)=>s.a.createElement(h,{key:n,row:a,slot:t,index:n,componentId:e.id,currentSection:c}))),!w&&s.a.createElement(i.Button,{className:"open-popover",isPrimary:!0,icon:g.a,onClick:()=>{j(!O)}}),O&&s.a.createElement(i.Popover,{position:"top center",noArrow:!1,className:"items-popover",onFocusOutside:()=>{j(!1)}},s.a.createElement("div",{className:"popover-header"},s.a.createElement(i.Icon,{icon:E}),s.a.createElement("input",{onChange:e=>{_(e.target.value.toLowerCase())},disabled:p.length<1,type:"search",placeholder:Object(r.__)("Search for a componentâ€¦","stax")}),s.a.createElement(i.Button,{isLink:!0,icon:x.a,onClick:()=>{j(!1)}})),s.a.createElement("div",{className:"items-popover-content"},p.length<1&&s.a.createElement("div",{className:"no-components"},s.a.createElement("span",null,"All available components are used inside the builder")),p.length>0&&s.a.createElement("div",{className:"items-popover-list"},p.filter(e=>{const{name:t}=y[e.id];return t.toLowerCase().indexOf(S)>-1||e.id.toString().indexOf(S)>-1}).map((n,o)=>{const{id:c}=n;return c?s.a.createElement(i.Button,{className:"popover-item",icon:y[c].icon,onClick:()=>{(n=>{const s=window.StaxReactCustomize.HFG[l].items[n].section;window.wp.customize.section(s).focus();const i=[...e];i.push({id:n}),b(a,t,i),f(p.filter(e=>e.id!==n)),j(!1)})(c.toString())},key:`${c}-${o}`},s.a.createElement("span",{className:"name"},y[c].name)):null})))))},f=({items:e,rowId:t})=>{const{actions:a,dragging:n,builder:c,hasColumns:m,previewSidebar:u}=Object(o.useContext)(v.a),{updateLayout:w,togglePreviewSidebar:p,updateSidebarItems:b}=a,h=["left","c-left","center","c-right","right"],g=`hfg_${c}_layout_${t}`,E=g+"_columns_number",x=g+"_columns_layout",[f,O]=Object(o.useState)(0),[j,S]=Object(o.useState)("equal"),[_,N]=Object(o.useState)(!1),y=()=>{"sidebar"===t&&I(!0),window.wp.customize.section(g).focus()};Object(o.useEffect)(()=>(window.wp.customize.state("expandedSection").bind(C),m&&k(),()=>{window.wp.customize.state("expandedSection").unbind(C)}),[]);const C=e=>{if(!e||e.id!==g)return N(!1),!1;e.id===g&&N(!0)},k=()=>{const e=window.wp.customize.control(E).setting.get();O(parseInt(e)),S(window.wp.customize.control(x).setting.get()),window.wp.customize.control(E,e=>{e.setting.bind(e=>{(e=>{const a=parseInt(e);h.forEach((e,n)=>{n+1>a&&w(t,e,[])}),O(a),b()})(e)})}),window.wp.customize.control(x,e=>{e.setting.bind(e=>{S(e)})})};Object(o.useEffect)(()=>{"sidebar"===t&&window.wp.customize.previewer.bind("stax-toggle-navbar",e=>{const{status:t}=e;p(t)})},[]);const I=e=>{window.wp.customize.previewer.send(e?"header_sidebar_open":"header_sidebar_close"),p(e)};if("sidebar"===t){const a=e&&e.length>0,n=d()("row",t,{"has-items":a});return s.a.createElement("div",{className:n},s.a.createElement("div",{className:"sidebar-actions"},s.a.createElement(i.Button,{icon:l,iconSize:18,className:"row-settings",label:Object(r.__)("Row Setting","stax"),onClick:y,isPrimary:_}),a&&s.a.createElement(i.Button,{onClick:()=>{I(!u)},icon:u?"hidden":"visibility",className:"row-settings",isPrimary:u,label:Object(r.__)("Toggle Sidebar","stax")})),s.a.createElement("div",{className:"row-inner"},s.a.createElement(z,{slotId:t,rowId:t,items:e||[]})))}const B=e.center&&e.center.length>0||m?"has-center":"no-center",V=d()("slots-wrap","slots-center-wrap",{expanded:n});return s.a.createElement("div",{className:`row ${t} ${B}`},s.a.createElement(i.Button,{icon:l,iconSize:18,className:"row-settings",onClick:y,isPrimary:_}),s.a.createElement("div",{className:"inner-row"},!m&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"slots-wrap slots-left-wrap"},["left","c-left"].map((a,n)=>s.a.createElement(z,{key:n,rowId:t,slotId:a,items:e[a]||[]}))),s.a.createElement("div",{className:V},s.a.createElement(z,{rowId:t,slotId:"center",items:e.center||[]})),s.a.createElement("div",{className:"slots-wrap slots-right-wrap"},["c-right","right"].map((a,n)=>s.a.createElement(z,{key:n,rowId:t,slotId:a,items:e[a]||[]})))),m&&s.a.createElement("div",{className:`slots-wrap column-slots-wrap col-${f} ${j}`},h.map((a,n)=>{const i=d()({hide:n>=f,last:n===f-1,single:0===n&&1===f});return s.a.createElement(z,{key:n,rowId:t,slotId:a,items:e[a]||[],className:i})}))))},O=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),j=({builder:e,builderName:t})=>{const[a,n]=Object(o.useState)(!1),[c,l]=Object(o.useState)(null),m=()=>{n(!a)};Object(o.useEffect)(()=>{const e=e=>{l(e.detail)};return document.addEventListener("stx-change-conditional-header",e),()=>document.removeEventListener("stx-change-conditional-header",e)},[]);const{dashUpdatesMessage:d,instructionalVid:u,hideConditionalHeaderSelector:w}=window.StaxReactCustomize;return Object(o.useEffect)(()=>{if(!w||"header"!==e)return;if(window.wp.customize.control("stax_header_conditional_selector"))return;const t=window.wp.customize.control("stax_transparent_header");if(!t)return;const a=t.params.section;window.wp.customize.section(a).notifications.add(new window.wp.customize.Notification("stax-incompatible-conditional",{type:"warning",message:d}))}),s.a.createElement("span",{className:"builder-instructions"},"header"===e&&c?s.a.createElement("p",null,void 0!==o.createInterpolateElement&&Object(o.createInterpolateElement)(Object(r.sprintf)(
/* translators: %1$s conditional header name (ie: Posts Header, Page Header, 404 Header) */
Object(r.__)("You are customizing the <Button>%1$s</Button> Header","stax"),c||Object(r.__)("")),{Button:s.a.createElement(i.Button,{isLink:!0,onClick:()=>{window.wp.customize.control("stax_header_conditional_selector").focus()}},"#dumptext")})):s.a.createElement("p",null,s.a.createElement("strong",null,Object(r.sprintf)(
/* translators: %1$s builder name (ie: Header) */
Object(r.__)("%1$s Builder","stax"),t)+":"),Object(r.__)("Click on any empty space to add components, or existing components to adjust settings.","stax")),s.a.createElement(i.Button,{style:{padding:0},isLink:!0,icon:O,iconSize:20,onClick:m}),a&&s.a.createElement(i.Modal,{title:"",className:"stax-ui-modal-wrap",onRequestClose:m,shouldCloseOnClickOutside:!0,isDismissible:!0},s.a.createElement("video",{style:{margin:"0 auto",display:"block"},autoPlay:!0,muted:!0,loop:!0,playsInline:!0},s.a.createElement("source",{src:u,type:"video/mp4"}))))},S=({device:e})=>{const{actions:t,builder:a}=Object(o.useContext)(v.a),{setDevice:n}=t,c=[{title:Object(r.__)("Desktop","stax"),icon:"desktop",slug:"desktop"},{title:Object(r.__)("Mobile","stax"),icon:"smartphone",slug:"mobile"}],{devices:l,title:m}=window.StaxReactCustomize.HFG[a],u=c.filter(({slug:e})=>Object.keys(l).includes(e));return s.a.createElement("div",{className:"builder-header"},s.a.createElement("div",{className:"responsive-switches"},u.map((t,a)=>{const{title:o,icon:c,slug:l}=t,r=d()("device-switcher",{active:l===e});return s.a.createElement(i.Button,{className:r,key:a,icon:c,onClick:()=>(t=>{if(e===t)return!1;window.wp.customize.previewedDevice(t),n(t)})(l)},o)})),s.a.createElement(j,{builder:a,builderName:m}))};t.default=({value:e,hidden:t,portalMount:a})=>{const{device:n,builder:i,hasColumns:c}=Object(o.useContext)(v.a),{rows:l}=window.StaxReactCustomize.HFG[i],r={...e[n]},m=document.querySelector("#customize-preview");Object(o.useEffect)(()=>()=>{null!==m&&(m.style.maxHeight="",m.style.marginTop="")},[]);const u=(e=!1)=>{const n=(null==a?void 0:a.querySelector(".stax-builder"))||null;if(null===n||null===m)return;if(t)return m.style.maxHeight="",void(m.style.marginTop="");const s=n.offsetHeight;m.style.maxHeight=`calc(100vh - ${s}px)`,m.style.marginTop="0",e&&("footer"!==i?setTimeout(()=>{window.wp.customize.previewer.send("scroll",0)},150):setTimeout(()=>{window.wp.customize.previewer.send("scroll",1e8)},150))};Object(o.useEffect)(()=>{setTimeout(()=>{u(!0)},100)},[t]),Object(o.useEffect)(()=>{window.wp.customize.previewer.bind("selective-refresh-setting-validities",()=>{u()})},[t]);const w=d()("stax-builder",{hide:t,"columns-builder":c});return s.a.createElement("div",{className:w},s.a.createElement(S,{device:n}),s.a.createElement("div",{className:"rows-wrapper"},l.sidebar&&"desktop"!==n&&s.a.createElement("div",{className:"vertical-rows"},s.a.createElement(f,{rowId:"sidebar",items:r.sidebar})),s.a.createElement("div",{className:"horizontal-rows"},Object.keys(l).map((e,t)=>"sidebar"===e?null:s.a.createElement(f,{key:t,rowId:e,items:r[e]||[]})))))}}}]);